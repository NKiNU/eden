$(document).ready(function(){var g,a,e=S3.supply.binnedQuantity||0,c,m=$("#sub-defaultbin"),p=$("#inv_adj_item_sub_defaultbin"),d,h=$("#sub_defaultbin_defaultbin_i_quantity_edit_none"),k=$("#sub_defaultbin_defaultbin_i_quantity_edit_0"),f=$("#inv_adj_item_new_quantity"),b=f.val(),q=f.closest("form");b=b?parseFloat(b):S3.supply.oldQuantity||0;q.on("submit.s3",function(n){f.val()||(n.preventDefault(),d="Enter a number greater than or equal to 0",c=$('<div id="inv_adj_item_new_quantity-error" class="alert alert-error" style="padding-left:36px;">'+
d+'<button type="button" class="close" data-dismiss="alert">\u00d7</button></div>'),f.parent().append(c).undelegate(".s3").delegate(".alert","click.s3",function(){$(this).fadeOut("slow").remove();return!1}))});f.change(function(){(b=f.val())?(b=parseFloat(b),$("#inv_adj_item_new_quantity-error").remove(),$("#inv_adj_item_new_quantity-warning").remove()):b=S3.supply.oldQuantity||0;0>b&&(b=0,d="Quantity cannot be Negative",c=$('<div id="inv_adj_item_new_quantity-warning" class="alert alert-warning" style="padding-left:36px;">'+
d+'<button type="button" class="close" data-dismiss="alert">\u00d7</button></div>'),f.val(b).parent().append(c).undelegate(".s3").delegate(".alert","click.s3",function(){$(this).fadeOut("slow").remove();return!1}));b<e&&(a=h.val(),b=e,d="Total Quantity increased to Quantity in Bins",c=$('<div id="inv_adj_item_new_quantity-warning" class="alert alert-warning" style="padding-left:36px;">'+d+'<button type="button" class="close" data-dismiss="alert">\u00d7</button></div>'),f.val(b).parent().append(c).undelegate(".s3").delegate(".alert",
"click.s3",function(){$(this).fadeOut("slow").remove();return!1}))});h.change(function(){a=(a=h.val())?parseFloat(a):0;g=b-e;a>g&&(d="Bin Quantity reduced to Available Quantity",c=$('<div id="sub_defaultbin_defaultbin_i_quantity_edit_none-warning" class="alert alert-warning" style="padding-left:36px;">'+d+'<button type="button" class="close" data-dismiss="alert">\u00d7</button></div>'),h.val(g).parent().append(c).undelegate(".s3").delegate(".alert","click.s3",function(){$(this).fadeOut("slow").remove();
return!1}))});k.change(function(){a=(a=k.val())?parseFloat(a):0;g=b-e;a>g&&(d="Bin Quantity reduced to Available Quantity",c=$('<div id="sub_defaultbin_defaultbin_i_quantity_edit_0-warning" class="alert alert-warning" style="padding-left:36px;">'+d+'<button type="button" class="close" data-dismiss="alert">\u00d7</button></div>'),k.val(g).parent().append(c).undelegate(".s3").delegate(".alert","click.s3",function(){$(this).fadeOut("slow").remove();return!1}))});m.on("click.s3",".inline-edt",function(){a=
(a=k.val())?parseFloat(a):0;e-=a});$("#rdy-defaultbin-0").click(function(){a=(a=k.val())?parseFloat(a):0;e+=a;h.change()});m.on("editCancelled",function(n,l){a=parseFloat(p.data("data").data[l].quantity.value);e+=a});m.on("rowAdded",function(n,l){e+=parseFloat(l.quantity.value);$("#sub_defaultbin_defaultbin_i_quantity_edit_none-warning").remove()});m.on("rowRemoved",function(n,l){e-=parseFloat(l.quantity.value)})});
